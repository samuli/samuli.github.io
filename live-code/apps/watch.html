<div x-data="{ id: $store.App.Storage.docId }" x-init="() => {
   $store.App.Storage.db.on('changes', function(changes) {
    changes.forEach(change => {
      switch (change.type) {
        case 2: // updated
          if (change.key === $store.App.Storage.docId) {
            $store.App.Storage.read(change.key, doc => $store.App.Browser.show(doc, document.getElementById('container')));
          }
          break;
      }
    });
  });
}" >
  <div class="flex">
    <div class="font-semibold mr-1">Watch document:</div>
    <input x-model="id" x-on:change="$store.App.Storage.open(id, doc => $store.App.Browser.show(doc, document.getElementById('container')))"></input>
  </div>
  <div id="container"></div>
</div>

